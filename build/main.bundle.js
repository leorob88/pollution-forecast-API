(()=>{var e=0;!async function t(o){const n=await fetch(`/.netlify/functions/lambda?name=${o}`),a=await n.json();if(console.log(a),"Unknown station"==a.data)0==e?(document.getElementById("answer").innerHTML="I couldn't find any stations for pollution detection in the location you searched for.",navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;o=`geo:${t.latitude};${t.longitude}`,console.log(e),console.log("Current position:"),console.log(`Latitude : ${t.latitude}`),console.log(`Longitude: ${t.longitude}`),console.log(`(Accuracy: about ${t.accuracy} meters.`)}),(function(e){console.warn(`Error(${e.code}): ${e.message}`)}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}),e=1,t(o)):document.getElementById("answer").innerHTML+=" I also tried to locate your position but still it has no stations for pollution detection.";else{var i,s=a.data.aqi;i=s>300?"hazardous":s>200?"very unhealthy":s>150?"unhealthy":s>100?"unhealthy for sensitive groups":s>50?"moderate":"good",document.getElementById("answer").innerHTML=`The nearest station to your estimated position is in ${a.data.city.name}. The estimated AQI has a value of ${a.data.aqi}. The pollution rate is ${i}.`,document.getElementById("answer").innerHTML+=' For further details, you can check out the reference website infos <a href="https://www.airnow.gov/aqi/aqi-basics/">here</a>.'}}(document.getElementById("query").value)})();